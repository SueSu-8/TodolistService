# OpenAPI generated server

## Overview
This server was generated by the [OpenAPI Generator](https://openapi-generator.tech) project. By using the
[OpenAPI-Spec](https://openapis.org) from a remote server, you can easily generate a server stub.  This
is an example of building a OpenAPI-enabled Flask server.

This example uses the [Connexion](https://github.com/zalando/connexion) library on top of Flask.

## Requirements
Python 3.5.2+

## Running locally
To run the server, please execute the following from the root directory:

```
pip3 install -r requirements.txt
python3 -m openapi_server
```

and open your browser to here:

```
http://localhost:80/ui/
```

Your OpenAPI definition lives here:

```
http://localhost:80/openapi.json
```

To launch the integration tests, use tox:
```
sudo pip install tox
tox
```

## Running locally with Docker

To run the server on a Docker container, please execute the following from the root directory:

```bash
# building the image
docker build -t openapi_server .

# starting up a container
docker run -p 80:80 openapi_server
```

## Running on AWS (test)

We will be using `copilot` to manage our deployed containers.

Prerequisites:
* Install Docker Desktop
* Install `copilot` CLI (which also requires `aws` CLI to be configured)

To setup your test server to run on AWS:
1. Run the command `copilot env init --name test-<DEV_USER> --default-config`. This will help you setup a new copilot environment. Each developer will have their own test environment that is completely isolated from each other.
1. Run the command `copilot env deploy --name test-<DEV_USER>`. This will deploy environment-related resources to your AWS account.
1. Run the command `copilot svc deploy --env test-<DEV_USER> --name api`. This will deploy the service resources in your environment to your AWS account.

You should now see the following output message from your shell:
```
âœ” Deployed service api.
Recommended follow-up action:
  - You can access your service at http://<your-custom-url>.us-west-2.elb.amazonaws.com over the internet.
```
Navigate to your URL, and add `/ui/` after it. You should be able to see a list of endpoints.
